# mall
Account和UserInfo可以在集团内部所有的app里面公用。
## 账号服务：AccountService
用户账号，用户使用账号登录成功可以访问应用内数据。
* 账号注册
* 账号注销
* 用户登录
    * 允许同一账号在多端登录
    * 允许同一账号多端同时在线
* 用户退出
> 用户基数庞大时，以上操作对服务有性能压力

## 用户信息服务：UserInfoService
### entity
用户的私人信息，比如以下信息：
* 昵称: 区别于用户账号，支持用户自己修改，用于用户app内展示
* 头像URL: 服务端保存的用户上传的头像的保存地址
* 其他app需要的特定信息,比如
    * 出生年月
    * 手机号
    * 性别
    * 等等
### 功能
* 修改昵称
* 修改头像
* 更新其他信息
> 修改用户信息在“同一账号允许多端同时登录”情况下存在同步问题 
> 用户基数庞大时，以上操作对服务有性能压力

## UserRole
用户角色。
* 商家：Seller
* 顾客：Customer

## 商品服务: CommodityService
### entity
* 商品品类
    * 大类1
      * 小类1
      * 小类2
      * 小类3
      * ...
    * 大类2
    * 大类3
    * ...
* 商品详情
    * 商品属性1：比如名称
    * 商品属性2：比如价格
    * 商品属性3
    * ...
> ...: 表示会有更多的分类
> 以京东为例,大类有: 电脑办公、图书文娱、个护清洁、运动户外、京东国际、美妆护肤、男装、食品酒饮、京东超市、自有品牌、家居厨具、鞋靴、
> 数码、内衣配饰、女装、箱包、母婴童装、家电、生鲜、宠物鲜花、玩具乐器、钟表珠宝、医药、医疗保健、家具家装、汽摩生活、奢侈品、生活旅行、
> 工业品、二手商品、拍卖、计生情趣、京东服务

### 功能
按角色进行功能划分
#### 商家
* 上架商品
* 下架商品
* 修改商品品类
* 修改商品详情信息
* 提供快递运营商选择方案,顾客可以选择其中的一个快递运营商(可选)
#### 顾客
* 查看商品品类
* 查看商品详情信息
* 购买商品
* 取消购买
* 选择快递运营商(可选)
> 用户基数庞大时，查看商品信息可能会有性能问题(主要是N个顾客可能查看同一商品，涉及到对数据库的查询)，优化：将热点数据保存在Redis上。

## 订单服务: OrderService
订单。顾客确定购买商品即完成订单的创建。
### 订单状态
* 创建：顾客创建
* 未支付：用户创建订单，但是给定时间内用户没有支付
  * 用户未支付主动取消订单
  * 用户支付成功进入下一状态
* 已支付
    * 通知发货
* 进行中
* 已完成

## 客服服务：ChatService
用于用户和商家之间的交流。

## 评价服务：EvaluateService
用户对于某一次购买行为的评价。某次评价可以缺省。
* 增加评价
* 删除评价
* 查看评价

## 快递服务: ExpressService
### 商家
* 选择快递服务商
* 查看快递状态
### 顾客
* 查看快递状态